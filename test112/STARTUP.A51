ORG 0000H
SJMP INIT
ORG 0003H
SJMP INT0_ISR
ORG 0030H
INIT:
		MOV IE #81H
		MOV SP #31H
		CLR IT0
		SETB RS0
		MOV R0, #0
		MOV R1, #0
		MOV R2, #0
MAIN:
		CLR RS0
		MOV R0, #0
		MOV R1, #4
		MOV R2, #0F7H
SCAN:
		SETB P3.3
		MOV A, R2
		MOV P2, A
		JNB P3.3, EQUAL
		JNB P2.7, KEY_IN
		INC R0
		JNB P2.6, KEY_IN
		INC R0
		JNB P2.5, KEY_IN
		INC R0
		JNB P2.4, KEY_IN
		INC R0
		RR A
		MOV R2, A
		DJNZ R1, SCAN
KEY_OUT:
		ACALL DISPLAY
		SJMP MAIN
KEY_IN:
		ACALL DEBOUNCE
		MOV DPTR, #KB_TABLE
		MOV A, R0
		MOVC A, @A+DPTR
		CJNE A, #0AH, NEXT1
		SJMP OP_IN
NEXT1:
		CJNE A, #0BH, NEXT2
		SJMP OP_IN
NEXT2:
		CJNE A, #0CH, NEXT3
		SJMP OP_IN
NEXT3:
		CJNE A, #0DH, NEXT4
		SJMP OP_IN
NEXT4:
		CJNE A, #0EH, NEXT5
		SJMP L_BRACKETS
NEXT5:
		CJNE A, #0FH, NEXT6
		SJMP R_BRACKETS
NEXT6:
		SJMP SAVE_IN
L_BRACKETS:
		SETB RS0
		MOV R0, #0
		MOV R1, #0
		MOV R2, #0
		SJMP KEY_OUT
L_BRACKETS:
		